<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZoomUnta</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f0f2f5;
}

header {
  background: #1877f2;
  color: white;
  padding: 12px;
  font-size: 24px;
  font-weight: bold;
  text-align: center;
}

.box {
  background: white;
  padding: 12px;
  margin: 10px;
  border-radius: 8px;
}

input, textarea, select, button {
  width: 100%;
  padding: 8px;
  margin-top: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button {
  background: #1877f2;
  color: white;
  border: none;
}

.post {
  background: white;
  padding: 12px;
  border-radius: 8px;
  margin: 10px;
}

.post img, .post video, .post audio {
  width: 100%;
  margin-top: 8px;
  border-radius: 6px;
}

.actions {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
}
</style>
</head>

<body>

<header>Zoom<span style="color: orange;">Unta</span></header>

<div class="box">
  <input id="name" placeholder="Your name">
  <select id="topic">
    <option value="">Select topic</option>
    <option>Education</option>
    <option>Faith</option>
    <option>Technology</option>
    <option>Community</option>
    <option>Business</option>
  </select>
  <textarea id="message" placeholder="What's on your mind?"></textarea>
  <input type="file" id="media" accept="image/*,video/*">
  <button onclick="addPost()">Post</button>
</div>

<div id="feed"></div>

<script>
let posts = JSON.parse(localStorage.getItem("zoomunta_posts")) || [];

function save() {
  localStorage.setItem("zoomunta_posts", JSON.stringify(posts));
}

function addPost() {
  const name = nameInput.value.trim();
  const topic = topicInput.value;
  const message = messageInput.value.trim();
  const file = mediaInput.files[0];

  if (!name || !topic) {
    alert("Name and topic are required");
    return;
  }

  const post = {
    name, topic, message,
    image: null,
    video: null,
    echoes: 0,
    supports: 0
  };

  if (file) {
    const reader = new FileReader();
    reader.onload = e => {
      if (file.type.startsWith("video")) post.video = e.target.result;
      else post.image = e.target.result;
      posts.unshift(post);
      save(); render();
    };
    reader.readAsDataURL(file);
  } else {
    posts.unshift(post);
    save(); render();
  }

  messageInput.value = "";
  mediaInput.value = "";
}

function render() {
  feed.innerHTML = "";
  posts.forEach((p, i) => {
    feed.innerHTML += `
      <div class="post">
        <b>${p.name}</b> ¬∑ <small>${p.topic}</small>
        <p>${p.message || ""}</p>
        ${p.image ? `<img src="${p.image}">` : ""}
        ${p.video ? `<video controls src="${p.video}"></video>` : ""}
        <div class="actions">
          <button onclick="echo(${i})">üîä Echo (${p.echoes})</button>
          <button onclick="support(${i})">ü§ù Support (${p.supports})</button>
          <button onclick="del(${i})">üóë</button>
        </div>
      </div>
    `;
  });
}

function echo(i){ posts[i].echoes++; save(); render(); }
function support(i){ posts[i].supports++; save(); render(); }
function del(i){ posts.splice(i,1); save(); render(); }

const nameInput = document.getElementById("name");
const topicInput = document.getElementById("topic");
const messageInput = document.getElementById("message");
const mediaInput = document.getElementById("media");
const feed = document.getElementById("feed");

render();
</script>

</body>
</html>
